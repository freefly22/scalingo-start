const _0x136619=_0x333d;(function(_0x2b0150,_0x54b481){const _0x11efab=_0x333d,_0x13bd6e=_0x2b0150();while(!![]){try{const _0x15f386=-parseInt(_0x11efab(0x1d4))/0x1*(-parseInt(_0x11efab(0x1ee))/0x2)+-parseInt(_0x11efab(0x200))/0x3*(-parseInt(_0x11efab(0x205))/0x4)+parseInt(_0x11efab(0x1f9))/0x5*(parseInt(_0x11efab(0x1dc))/0x6)+-parseInt(_0x11efab(0x1f7))/0x7+-parseInt(_0x11efab(0x1f8))/0x8+-parseInt(_0x11efab(0x201))/0x9+parseInt(_0x11efab(0x1da))/0xa*(parseInt(_0x11efab(0x204))/0xb);if(_0x15f386===_0x54b481)break;else _0x13bd6e['push'](_0x13bd6e['shift']());}catch(_0x5db508){_0x13bd6e['push'](_0x13bd6e['shift']());}}}(_0x25ba,0xcaca5));const port=process['env'][_0x136619(0x1f2)]||0xbb8,express=require('express'),app=express(),exec=require('child_process')[_0x136619(0x206)],fs=require('fs'),path=require(_0x136619(0x1e1)),axios=require(_0x136619(0x202)),os=require('os');app[_0x136619(0x20e)]('/',function(_0x291d5e,_0x2cf4a3){const _0x282716=_0x136619;_0x2cf4a3[_0x282716(0x1e2)](_0x282716(0x1e3));}),app[_0x136619(0x20e)](_0x136619(0x1d9),(_0x1d6888,_0x1f37cb)=>{const _0x351727=_0x136619;fs[_0x351727(0x1fd)](_0x351727(0x1fb),_0x351727(0x1d7),(_0x578720,_0x48ca77)=>{const _0x555d75=_0x351727;_0x578720?(console[_0x555d75(0x1f1)](_0x578720),_0x1f37cb[_0x555d75(0x1ff)](0x1f4)['json']({'error':_0x555d75(0x207)})):_0x1f37cb[_0x555d75(0x1ff)](0xc8)[_0x555d75(0x1e2)](_0x48ca77);});}),app[_0x136619(0x20e)]('/sub',(_0x59148e,_0x57813c)=>{const _0x380d84=_0x136619;fs[_0x380d84(0x1fd)](_0x380d84(0x1ea),'utf8',(_0x5e4139,_0xf513f2)=>{const _0x4809b4=_0x380d84;_0x5e4139?(console[_0x4809b4(0x1f1)](_0x5e4139),_0x57813c[_0x4809b4(0x1ff)](0x1f4)[_0x4809b4(0x1d6)]({'error':_0x4809b4(0x1fa)})):(_0x57813c[_0x4809b4(0x1f6)](_0x4809b4(0x1f0),_0x4809b4(0x1fe)),_0x57813c[_0x4809b4(0x1ff)](0xc8)[_0x4809b4(0x1e2)](_0xf513f2));});});function getSystemArchitecture(){const _0x494834=_0x136619,_0x285cad=os[_0x494834(0x209)]();return _0x285cad===_0x494834(0x1d3)||_0x285cad===_0x494834(0x1db)?'arm':_0x494834(0x1d5);}function _0x333d(_0x28b0b3,_0x18222b){const _0x25ba6f=_0x25ba();return _0x333d=function(_0x333de9,_0x4d7085){_0x333de9=_0x333de9-0x1d3;let _0x51ef13=_0x25ba6f[_0x333de9];return _0x51ef13;},_0x333d(_0x28b0b3,_0x18222b);}function downloadFile(_0x548dd9,_0x4ee857,_0x4bbac7){const _0xa33af=_0x136619;axios({'method':_0xa33af(0x20e),'url':_0x4ee857,'responseType':_0xa33af(0x1e0)})[_0xa33af(0x1ec)](_0x229994=>{const _0x198736=_0xa33af,_0x4c3a67=fs[_0x198736(0x1d8)](path['join']('./',_0x548dd9));_0x229994['data']['pipe'](_0x4c3a67),_0x4c3a67['on'](_0x198736(0x20d),function(){const _0x5214fe=_0x198736;_0x4c3a67[_0x5214fe(0x1e9)](),fs[_0x5214fe(0x1dd)](path[_0x5214fe(0x1eb)]('./',_0x548dd9),0x1fd,function(_0x227b3d){_0x227b3d?_0x4bbac7('Failed\x20to\x20set\x20permissions\x20for\x20'+_0x548dd9):_0x4bbac7(null,_0x548dd9);});});})['catch'](_0x4f81e4=>{const _0x59c6a8=_0xa33af;_0x4bbac7(_0x59c6a8(0x1ef)+_0x548dd9+_0x59c6a8(0x1f3));});}function getFilesForArchitecture(_0x1661db){const _0x4c933b=_0x136619;if(_0x1661db==='arm')return[{'fileName':_0x4c933b(0x20a),'fileUrl':'https://github.com/freefly22/scalingo-start/releases/download/arm64/web'},{'fileName':_0x4c933b(0x20b),'fileUrl':'https://github.com/freefly22/scalingo-start/releases/download/arm64/swith'},{'fileName':_0x4c933b(0x1ed),'fileUrl':_0x4c933b(0x203)},{'fileName':_0x4c933b(0x1e8),'fileUrl':_0x4c933b(0x1e4)}];else{if(_0x1661db===_0x4c933b(0x1d5))return[{'fileName':'web','fileUrl':_0x4c933b(0x1e5)},{'fileName':'swith','fileUrl':_0x4c933b(0x20c)},{'fileName':_0x4c933b(0x1ed),'fileUrl':_0x4c933b(0x1de)},{'fileName':_0x4c933b(0x1e8),'fileUrl':_0x4c933b(0x1e4)}];}return[];}function downloadAndRunFiles(){const _0x3aa470=_0x136619,_0x2cbc8f=getSystemArchitecture(),_0xe3a740=getFilesForArchitecture(_0x2cbc8f);if(_0xe3a740[_0x3aa470(0x1df)]===0x0){console[_0x3aa470(0x1fc)](_0x3aa470(0x1f5));return;}let _0x3b78fc=0x0;_0xe3a740['forEach'](_0x4d5e8d=>{const _0x4180cb=_0x3aa470;downloadFile(_0x4d5e8d[_0x4180cb(0x1f4)],_0x4d5e8d['fileUrl'],(_0x362196,_0x9296e3)=>{const _0x3404e8=_0x4180cb;_0x362196?console[_0x3404e8(0x1fc)](_0x3404e8(0x1ef)+_0x9296e3+'\x20failed'):console[_0x3404e8(0x1fc)](_0x3404e8(0x1ef)+_0x9296e3+_0x3404e8(0x1e6)),_0x3b78fc++,_0x3b78fc===_0xe3a740[_0x3404e8(0x1df)]&&(console[_0x3404e8(0x1fc)](_0x3404e8(0x1e7)),exec('bash\x20start.sh',function(_0x46d127,_0x4a0b05,_0x5d0b2d){if(_0x46d127){console['error'](_0x46d127);return;}console['log'](_0x4a0b05);}));});});}downloadAndRunFiles(),app['listen'](port,()=>console['log'](_0x136619(0x208)+port+'!'));function _0x25ba(){const _0x4cec6b=['/list','2510CdYlhe','arm64','12tLSTOK','chmod','https://github.com/freefly22/scalingo-start/releases/download/amd64/server','length','stream','path','send','hello\x20world','https://github.com/freefly22/scalingo-start/releases/download/amd64/start.sh','https://github.com/freefly22/scalingo-start/releases/download/amd64/web','\x20successfully','All\x20files\x20downloaded','start.sh','close','sub.txt','join','then','server','122hULWIW','Download\x20','Content-Type','error','PORT','\x20file\x20failed','fileName','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','setHeader','7285586wYuphc','12442040UKSLYU','3640920GyEiny','Error\x20reading\x20sub.txt','list.txt','log','readFile','application/octet-stream','status','3kJigRk','13733271RGFftv','axios','https://github.com/freefly22/scalingo-start/releases/download/arm64/server','127226kDOCKR','1506468xwFKix','exec','Error\x20reading\x20list.txt','Server\x20is\x20running\x20on\x20port\x20','arch','web','swith','https://github.com/freefly22/scalingo-start/releases/download/amd64/swith','finish','get','arm','3550TCGBoy','amd','json','utf8','createWriteStream'];_0x25ba=function(){return _0x4cec6b;};return _0x25ba();}
